{"ast":null,"code":"var _jsxFileName = \"/Users/christinealbert/Coding/pomodoro/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport Container from 'react-bootstrap/Container';\nimport CardDeck from 'react-bootstrap/CardDeck';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { TimerDisplay } from '../src/TimerDisplay';\nimport { ChooseWorkTime, ChooseBreakTime } from '../src/ChangeTime';\nimport './App.css';\nimport './scss/_variables.scss';\n\nfunction App(props) {\n  const work = moment.duration({\n    'minutes': 25\n  });\n  const breaker = moment.duration({\n    'minutes': 5\n  });\n  const [workTime, setWorkTime] = useState(work.minutes());\n  const [workSeconds, setWorkSeconds] = useState(work.asSeconds());\n  const [breakTime, setBreakTime] = useState(breaker.minutes());\n  const [breakSeconds, setBreakSeconds] = useState(breaker.asSeconds());\n  const [working, setWorking] = useState(true);\n  const [workTimerOn, setWorkTimerOn] = useState(false);\n  const [breakTimerOn, setBreakTimerOn] = useState(false);\n  const [alarmOn, setAlarmOn] = useState(false);\n\n  function changeWork(changer) {\n    if (changer === \"increase\" && workTime < 60) {\n      setWorkTime(workTime => workTime + 1);\n    } else if (changer === \"decrease\" && workTime > 1) {\n      setWorkTime(workTime => workTime - 1);\n    } else {\n      return;\n    }\n  }\n\n  function changeBreak(changer) {\n    if (changer === \"increase\" && breakTime < 60) {\n      setBreakTime(breakTime => breakTime + 1);\n    } else if (changer === \"decrease\" && breakTime > 1) {\n      setBreakTime(breakTime => breakTime - 1);\n    } else {\n      return;\n    }\n  }\n\n  function resetSound() {\n    let sound = document.getElementById(\"beep\");\n    sound.pause();\n    sound.load();\n  }\n\n  function reset() {\n    resetSound();\n    setWorkTime(work.minutes());\n    setWorkSeconds(work.asSeconds());\n    setBreakTime(breaker.minutes());\n    setBreakSeconds(breaker.asSeconds());\n    setAlarmOn(false);\n    setWorkTimerOn(false);\n    setBreakTimerOn(false);\n    setWorking(true);\n  }\n\n  function playSound() {\n    let sound = document.getElementById(\"beep\");\n    sound.load();\n    sound.play();\n  }\n\n  function handleWorkClick() {\n    setWorkTimerOn(!workTimerOn);\n  }\n\n  function handleBreakClick() {\n    setBreakTimerOn(!breakTimerOn);\n  }\n\n  useEffect(() => {\n    if (workTime <= 0) {\n      setWorkTime(1);\n    } else if (workTime > 60) {\n      setWorkTime(60);\n    }\n\n    let minutes = moment.duration({\n      \"minutes\": workTime\n    });\n    setWorkSeconds(workSeconds => minutes.asSeconds());\n  }, [workTime]);\n  useEffect(() => {\n    if (breakTime <= 0) {\n      setBreakTime(1);\n    } else if (breakTime > 60) {\n      setBreakTime(60);\n    }\n\n    let minutes = moment.duration({\n      \"minutes\": breakTime\n    });\n    setBreakSeconds(breakSeconds => minutes.asSeconds());\n  }, [breakTime]);\n  useEffect(() => {\n    let workInterval = null;\n\n    if (workTimerOn && workSeconds > 0) {\n      workInterval = setInterval(() => {\n        setWorkSeconds(workSeconds => workSeconds - 1);\n      }, 1000);\n    } else if (workSeconds === 0) {\n      clearInterval(workInterval);\n    }\n\n    return () => clearInterval(workInterval);\n  }, [workTimerOn, workSeconds]);\n  useEffect(() => {\n    let breakInterval = null;\n\n    if (breakTimerOn && breakSeconds > 0) {\n      breakInterval = setInterval(() => {\n        setBreakSeconds(breakSeconds => breakSeconds - 1);\n      }, 1000);\n    } else if (breakSeconds === 0) {\n      clearInterval(breakInterval);\n    }\n\n    return () => clearInterval(breakInterval);\n  }, [breakTimerOn, breakSeconds]);\n  useEffect(() => {\n    if (workSeconds === 0) {\n      setAlarmOn(true);\n      setWorking(false);\n    }\n  }, [workSeconds]);\n  useEffect(() => {\n    if (breakSeconds === 0) {\n      setAlarmOn(true);\n      setWorking(true);\n    }\n  }, [breakSeconds]);\n  useEffect(() => {\n    if (alarmOn) {\n      playSound();\n    }\n\n    function switchTimers() {\n      if (workTimerOn) {\n        let minutes = moment.duration({\n          \"minutes\": breakTime\n        });\n        setBreakSeconds(breakSeconds => minutes.asSeconds());\n        setWorkTimerOn(false);\n        setBreakTimerOn(true);\n      } else if (breakTimerOn) {\n        let minutes = moment.duration({\n          \"minutes\": workTime\n        });\n        setWorkSeconds(workSeconds => minutes.asSeconds());\n        setWorkTimerOn(true);\n        setBreakTimerOn(false);\n      }\n    }\n\n    return () => {\n      switchTimers();\n      setAlarmOn(false);\n    };\n  }, [alarmOn, workTimerOn, breakTimerOn]);\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"app bg-gradient-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 10,\n    className: \"offset-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"m-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, \"Pomodoro Timer\"), /*#__PURE__*/React.createElement(CardDeck, {\n    className: \"deck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ChooseWorkTime, {\n    increaseTime: () => changeWork(\"increase\"),\n    decreaseTime: () => changeWork(\"decrease\"),\n    minutes: workTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TimerDisplay, {\n    workTime: workSeconds,\n    breakTime: breakSeconds,\n    handleWorkClick: handleWorkClick,\n    handleBreakClick: handleBreakClick,\n    workTimerOn: workTimerOn,\n    breakTimerOn: breakTimerOn,\n    reset: reset,\n    working: working,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ChooseBreakTime, {\n    increaseTime: () => changeBreak(\"increase\"),\n    decreaseTime: () => changeBreak(\"decrease\"),\n    minutes: breakTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, \"Icons made by \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.flaticon.com/authors/freepik\",\n    title: \"Freepik\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 30\n    }\n  }, \"Freepik\"), \" from \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.flaticon.com/\",\n    title: \"Flaticon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 114\n    }\n  }, \"www.flaticon.com\")))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/christinealbert/Coding/pomodoro/src/App.js"],"names":["React","useState","useEffect","moment","Container","CardDeck","Row","Col","TimerDisplay","ChooseWorkTime","ChooseBreakTime","App","props","work","duration","breaker","workTime","setWorkTime","minutes","workSeconds","setWorkSeconds","asSeconds","breakTime","setBreakTime","breakSeconds","setBreakSeconds","working","setWorking","workTimerOn","setWorkTimerOn","breakTimerOn","setBreakTimerOn","alarmOn","setAlarmOn","changeWork","changer","changeBreak","resetSound","sound","document","getElementById","pause","load","reset","playSound","play","handleWorkClick","handleBreakClick","workInterval","setInterval","clearInterval","breakInterval","switchTimers"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport moment from 'moment';\n\nimport Container from 'react-bootstrap/Container';\nimport CardDeck from 'react-bootstrap/CardDeck';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport {TimerDisplay} from '../src/TimerDisplay';\nimport {ChooseWorkTime, ChooseBreakTime} from '../src/ChangeTime';\nimport './App.css';\nimport './scss/_variables.scss';\n\n\n\nfunction App(props) {\n  const work= moment.duration({'minutes': 25});\n  const breaker = moment.duration({'minutes': 5});\n  \n  const [workTime, setWorkTime] = useState(work.minutes());\n  const [workSeconds, setWorkSeconds] = useState(work.asSeconds());\n  const [breakTime, setBreakTime] = useState(breaker.minutes());\n  const [breakSeconds, setBreakSeconds] = useState(breaker.asSeconds());\n  \n  const [working, setWorking] = useState(true);\n  const [workTimerOn, setWorkTimerOn] = useState(false);\n  const [breakTimerOn, setBreakTimerOn] = useState(false);\n  const [alarmOn, setAlarmOn] = useState(false);\n  \n  function changeWork(changer) {\n    if (changer === \"increase\" && workTime < 60) {\n      setWorkTime(workTime => workTime + 1);\n    } else if (changer === \"decrease\" && workTime > 1) {\n      setWorkTime(workTime => workTime - 1)\n    } else {\n      return;\n    }\n  }\n  \n  function changeBreak(changer) {\n    if (changer === \"increase\" && breakTime < 60) {\n      setBreakTime(breakTime => breakTime + 1);\n    } else if (changer === \"decrease\" && breakTime > 1) {\n      setBreakTime(breakTime => breakTime - 1)\n    } else {\n      return;\n    }\n  }\n  function resetSound() {\n    let sound = document.getElementById(\"beep\");\n    sound.pause();\n    sound.load();\n  }\n \n  function reset() {\n    resetSound();\n    setWorkTime(work.minutes());\n    setWorkSeconds(work.asSeconds());\n    setBreakTime(breaker.minutes());\n    setBreakSeconds(breaker.asSeconds());\n    setAlarmOn(false);\n    setWorkTimerOn(false);\n    setBreakTimerOn(false);\n    setWorking(true);\n  }\n\n  function playSound() {\n    let sound = document.getElementById(\"beep\");\n      sound.load();\n      sound.play();\n  }\n  \n  function handleWorkClick() {\n    setWorkTimerOn(!workTimerOn);\n  }\n  \n  function handleBreakClick() {\n    setBreakTimerOn(!breakTimerOn);\n  }\n  \n  useEffect(() => {\n    if (workTime <= 0) {\n      setWorkTime(1);\n    } else if (workTime > 60) {\n      setWorkTime(60);\n    }\n    let minutes = moment.duration({\"minutes\": workTime});\n    setWorkSeconds(workSeconds => minutes.asSeconds());\n  }, [workTime]);\n  \n  useEffect(() => {\n    if (breakTime <= 0 ) {\n      setBreakTime(1);\n    } else if (breakTime > 60) {\n      setBreakTime(60);\n    }\n    let minutes = moment.duration({\"minutes\": breakTime});\n    setBreakSeconds(breakSeconds => minutes.asSeconds());\n  }, [breakTime]);\n\n  useEffect(() => {\n    let workInterval = null;\n    if (workTimerOn && workSeconds > 0) {\n      workInterval = setInterval(() => {\n        setWorkSeconds(workSeconds => workSeconds - 1);\n      }, 1000);\n    }  else if (workSeconds === 0) {\n      clearInterval(workInterval);\n    }\n    return () => clearInterval(workInterval);\n  }, [workTimerOn, workSeconds]);\n  \n  useEffect(() => { \n    let breakInterval = null;\n    if (breakTimerOn  && breakSeconds > 0) {\n      breakInterval = setInterval(() => {\n        setBreakSeconds(breakSeconds => breakSeconds - 1);\n      }, 1000);\n    } else if (breakSeconds === 0) {\n      clearInterval(breakInterval);\n    }\n    return () => clearInterval(breakInterval);\n  }, [breakTimerOn, breakSeconds]);\n  \n  useEffect(() => {\n    if (workSeconds === 0) {\n      setAlarmOn(true);\n      setWorking(false);\n    }\n  }, [workSeconds]);\n  \n  useEffect(() => {\n    if (breakSeconds === 0) {\n      setAlarmOn(true);\n      setWorking(true);\n    }\n  }, [breakSeconds]);\n  \n  useEffect(() => {\n    if (alarmOn) {\n      playSound();\n    }\n    function switchTimers() {\n      if (workTimerOn) {\n        let minutes = moment.duration({\"minutes\": breakTime});\n        setBreakSeconds(breakSeconds => minutes.asSeconds());\n        setWorkTimerOn(false);\n        setBreakTimerOn(true);\n      } else if (breakTimerOn){\n        let minutes = moment.duration({\"minutes\": workTime});\n        setWorkSeconds(workSeconds => minutes.asSeconds());\n        setWorkTimerOn(true);\n        setBreakTimerOn(false);\n      }\n    }\n    return () => {\n      switchTimers();\n      setAlarmOn(false);\n    }\n  }, [alarmOn, workTimerOn, breakTimerOn, ])\n  \n  return (\n  <Container fluid className=\"app bg-gradient-info\">\n      <Row>\n        <Col md={10} className=\"offset-md-1\" >\n          <h1 className=\"m-4\">Pomodoro Timer</h1>\n          <CardDeck className=\"deck\">\n              <ChooseWorkTime  \n                increaseTime={() => changeWork(\"increase\")} \n                decreaseTime={() => changeWork(\"decrease\")}  \n                minutes={workTime} \n                />\n              <TimerDisplay \n                workTime={workSeconds}\n                breakTime={breakSeconds}\n                handleWorkClick={handleWorkClick} \n                handleBreakClick={handleBreakClick}\n                workTimerOn={workTimerOn} \n                breakTimerOn={breakTimerOn}\n                reset={reset}\n                working={working}\n                />\n              <ChooseBreakTime  \n                increaseTime={() => changeBreak(\"increase\")} \n                decreaseTime={() => changeBreak(\"decrease\")}  \n                minutes={breakTime} \n                />\n          </CardDeck>\n          <div>Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\n        </Col>\n      </Row>\n      \n  </Container>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}